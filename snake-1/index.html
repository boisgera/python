<!DOCTYPE html><html lang="fr" data-astro-cid-vc27etzb> <head><title>The Snake Game</title><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v3.6.5"><style>aside[data-astro-cid-fjubpvhp]{border:.125rem solid var(--dark);border-radius:.25rem;margin-bottom:1rem}summary[data-astro-cid-fjubpvhp]{padding:1rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem;background-color:var(--light)}details[data-astro-cid-fjubpvhp]>summary[data-astro-cid-fjubpvhp]{list-style:none;border-radius:.25rem;border-bottom-left-radius:0;border-bottom-right-radius:0}.minmax[data-astro-cid-fjubpvhp]{color:var(--dark)}details[data-astro-cid-fjubpvhp].lock{pointer-events:none}details[data-astro-cid-fjubpvhp].lock .minmax[data-astro-cid-fjubpvhp]{display:none}details[data-astro-cid-fjubpvhp][open] .open[data-astro-cid-fjubpvhp]{display:inline}details[data-astro-cid-fjubpvhp][open] .closed[data-astro-cid-fjubpvhp]{display:none}details[data-astro-cid-fjubpvhp]:not([open]) .open[data-astro-cid-fjubpvhp]{display:none}details[data-astro-cid-fjubpvhp]:not([open]) .closed[data-astro-cid-fjubpvhp]{display:inline}.content[data-astro-cid-fjubpvhp]{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}svg[data-astro-cid-fjubpvhp]{height:1rem}.circle[data-astro-cid-fjubpvhp]{height:1.25rem;width:1.25rem;border-radius:.25rem;background-color:var(--dark);color:#fff;display:flex;justify-content:center;align-items:center}
</style>
<link rel="stylesheet" href="/python/_astro/burger.acc87366.css" /><script type="module">document.startViewTransition&&document.querySelectorAll("details").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),document.startViewTransition(()=>t.toggleAttribute("open"))})});
</script></head> <body data-astro-cid-vc27etzb> <nav data-astro-cid-vc27etzb> <a href="/python" data-astro-cid-vc27etzb><svg viewBox="0 0 128 128" style="width:2rem;height:2rem;" data-astro-cid-vc27etzb astro-icon="python"><linearGradient id="astroicon:pythona" x1="70.252" x2="170.659" y1="1237.476" y2="1151.089" gradientTransform="matrix(.563 0 0 -.568 -29.215 707.817)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#5A9FD4"/><stop offset="1" stop-color="#306998"/></linearGradient><linearGradient id="astroicon:pythonb" x1="209.474" x2="173.62" y1="1098.811" y2="1149.537" gradientTransform="matrix(.563 0 0 -.568 -29.215 707.817)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#FFD43B"/><stop offset="1" stop-color="#FFE873"/></linearGradient><path fill="url(#astroicon:pythona)" d="M63.391 1.988c-4.222.02-8.252.379-11.8 1.007-10.45 1.846-12.346 5.71-12.346 12.837v9.411h24.693v3.137H29.977c-7.176 0-13.46 4.313-15.426 12.521-2.268 9.405-2.368 15.275 0 25.096 1.755 7.311 5.947 12.519 13.124 12.519h8.491V67.234c0-8.151 7.051-15.34 15.426-15.34h24.665c6.866 0 12.346-5.654 12.346-12.548V15.833c0-6.693-5.646-11.72-12.346-12.837-4.244-.706-8.645-1.027-12.866-1.008zM50.037 9.557c2.55 0 4.634 2.117 4.634 4.721 0 2.593-2.083 4.69-4.634 4.69-2.56 0-4.633-2.097-4.633-4.69-.001-2.604 2.073-4.721 4.633-4.721z" transform="translate(0 10.26)"/><path fill="url(#astroicon:pythonb)" d="M91.682 28.38v10.966c0 8.5-7.208 15.655-15.426 15.655H51.591c-6.756 0-12.346 5.783-12.346 12.549v23.515c0 6.691 5.818 10.628 12.346 12.547 7.816 2.297 15.312 2.713 24.665 0 6.216-1.801 12.346-5.423 12.346-12.547v-9.412H63.938v-3.138h37.012c7.176 0 9.852-5.005 12.348-12.519 2.578-7.735 2.467-15.174 0-25.096-1.774-7.145-5.161-12.521-12.348-12.521h-9.268zM77.809 87.927c2.561 0 4.634 2.097 4.634 4.692 0 2.602-2.074 4.719-4.634 4.719-2.55 0-4.633-2.117-4.633-4.719 0-2.595 2.083-4.692 4.633-4.692z" transform="translate(0 10.26)"/><radialGradient id="astroicon:pythonc" cx="1825.678" cy="444.45" r="26.743" gradientTransform="matrix(0 -.24 -1.055 0 532.979 557.576)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#B8B8B8" stop-opacity=".498"/><stop offset="1" stop-color="#7F7F7F" stop-opacity="0"/></radialGradient><path fill="url(#astroicon:pythonc)" d="M97.309 119.597c0 3.543-14.816 6.416-33.091 6.416-18.276 0-33.092-2.873-33.092-6.416 0-3.544 14.815-6.417 33.092-6.417 18.275 0 33.091 2.872 33.091 6.417z" opacity=".444"/></svg></a> </nav> <main data-astro-cid-vc27etzb> <header style="margin-bottom: 3rem;"> <div style="margin-bottom: 1.5rem;"> <h1 style="font-size: 2.25rem; line-height:1; font-weight:700; color: #020617;
    margin-bottom: 1rem;"> The Snake Game </h1> <p style="color: #64748b;"> Don&#39;t you think that it&#39;s only appropriate to discover Python with a snake game? </p> </div> <div style="display: flex; justify-content: left; gap: 1rem;"> <img src="https://2.gravatar.com/avatar/39ec5d637b0753448b97a8e63855a45cb6708d033b656fe9f1d3314bb4bfb202?size=128" alt="avatar" style="margin: 0px; flex: 0 48px; width: 48px; height: 48px; border-radius: 50%;"> <p style="margin: 0px; flex: auto; font-size: 0.875rem; line-height: 1.25rem; color: #1e293b;"> S√©bastien Boisg√©rault <br> Associate Professor, ITN Mines Paris ‚Äì PSL </p><p></p>  </div> </header>

<img src="/python/_astro/snake.be79588c_ZAFdGe.webp" transition:name="snakeImage" alt="Boa constrictor by Jan Kop≈ôiva" style="border-radius: 0.375rem; width: 100%; height: auto; height: auto;" width="768" height="511" loading="lazy" decoding="async">
<aside data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <details open class="lock" data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #e0f2fe;--dark: #164e63;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #e0f2fe;--dark: #164e63;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:pencil"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M4 20h4L18.5 9.5a1.5 1.5 0 0 0-4-4L4 16v4M13.5 6.5l4 4"/></g></svg> </span> <span style="font-weight:500;; --light: #e0f2fe;--dark: #164e63;" data-astro-cid-fjubpvhp>Attribution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <div style="margin: 1rem;; --light: #e0f2fe;--dark: #164e63;" data-astro-cid-fjubpvhp> <p>The first version of this project was created by Aur√©lien Noce (aka
<a href="https://github.com/ushu">@ushu</a>).</p> </div> </div> </details> </aside>   
<h2 id="introduction">Introduction</h2>
<p>In this project you will create a program which is a classic video game:
the üêç <a href="https://en.wikipedia.org/wiki/Snake_(video_game_genre)">snake game</a>! You will use Python and the <a href="https://github.com/kitao/pyxel">Pyxel</a> library.
What matters is the learning experience:
you will discover how to design and implement a complete application,
by starting with a simple program and adding features one by one.</p>
<aside data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <details class="" data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #ffedd5;--dark: #ea580c;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #ffedd5;--dark: #ea580c;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:alert-triangle"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M12 9v2m0 4v.01M5 19h14a2 2 0 0 0 1.84-2.75L13.74 4a2 2 0 0 0-3.5 0l-7.1 12.25A2 2 0 0 0 4.89 19"/></g></svg> </span> <span style="font-weight:500;; --light: #ffedd5;--dark: #ea580c;" data-astro-cid-fjubpvhp>Your code is ugly!</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <div style="margin: 1rem;; --light: #ffedd5;--dark: #ea580c;" data-astro-cid-fjubpvhp> <p>At this stage, we won‚Äôt focus at all on the aesthestics of the code,
so don‚Äôt worry if you find that our solutions do not ‚Äúlook good‚Äù
(they don‚Äôt).
But they work!
However, code readability &amp; maintainability are important issues
and we will come back to this issue in the <a href="../snake-2">next session</a>.</p> </div> </div> </details> </aside>   
<p>By the end of this project, you will have something like this:</p>
<div style="position:relative;"><video width="768" style="border-radius: 0.375rem; width: 100%; height: auto;" autoplay loop><source src="../videos/snake-game.webm" type="video/webm"/></video><a href="../snake-game" style="color:black;text-decoration:none;line-height:1rem"><div style="position: absolute; top: 1rem; left: 1rem; background-color: white;
padding: 0.0rem; border-radius:100%; width:3rem; height:3rem; font-size:36px;
display:flex; align-items: center; justify-content: center;"><span style="position: relative; top:-2px;">üéÆ</span></div></a></div>
<p>Inside a square arena, you control a üêç snake:</p>
<ul>
<li>
<p>üèÉ which relentlessly moves forward,</p>
</li>
<li>
<p>‚û°Ô∏è but can be directed using the arrow keys,</p>
</li>
<li>
<p>üçì which grows by eating fruits that respawn at random locations,</p>
</li>
<li>
<p>ü•¥ shrinks when he hits an obstacle (either a wall, a rock, or its own body).</p>
</li>
</ul>
<h2 id="getting-started">Getting started</h2>
<p>Let‚Äôs start with a message display whose color changes over time.</p>
<video width="768" style="border-radius: 0.375rem; width: 100%; height: auto;" autoplay loop><source src="../videos/hello-snake.webm" type="video/webm"/></video>
<p>The code of this application is:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> pyxel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> pyxel.btnp(pyxel.</span><span style="color:#79B8FF">KEY_Q</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.quit()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    color </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pyxel.frame_count </span><span style="color:#F97583">%</span><span style="color:#79B8FF"> 16</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.text(</span><span style="color:#79B8FF">56</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">54</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;Hello, Snake!&quot;</span><span style="color:#E1E4E8">, color)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.init(</span><span style="color:#79B8FF">160</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">120</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">pyxel.run(update, draw)</span></span></code></pre>
<p>Now we are going to slightly tweak this program until we understand
what‚Äôs going on.
When it‚Äôs necessary, search into Pyxel‚Äôs <a href="https://github.com/kitao/pyxel#how-to-use">user‚Äôs guide</a> and <a href="https://github.com/kitao/pyxel#api-reference">reference
documentation</a>.</p>

<h3 id="colors">Colors</h3>
<p>Let‚Äôs tweak the colors a little:</p>
<ul>
<li>
<p>Display a white background (instead of the black one).</p>
</li>
<li>
<p>Display the ‚ÄúHello Snake!‚Äù message in black (not flickering).</p>
</li>
</ul>
<aside data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <details class="" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:bulb"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M3 12h1m8-9v1m8 8h1M5.6 5.6l.7.7m12.1-.7-.7.7M9 16a5 5 0 1 1 6 0 3.5 3.5 0 0 0-1 3 2 2 0 0 1-4 0 3.5 3.5 0 0 0-1-3M9.7 17h4.6"/></g></svg> </span> <span style="font-weight:500;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp>Solution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <div style="margin: 1rem;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <p>In the spirit of retro gaming, Pyxel can only display 16 colors.
The standard palette from which you must pick your color is described <a href="https://github.com/kitao/pyxel#color-palette">here</a>.</p><img src="/python/_astro/pyxel-color-palette.f8737613_1n504q.webp" alt="Pyxel's color palette" style="margin:auto; display:block; width:min(100%,510px); height: auto; margin-bottom:2rem;" width="510" height="162" loading="lazy" decoding="async"><p>The index of black is <code>0</code> and there is no pure white, but the closest is color
<code>7</code>.
Therefore, the changes we need to perform are:</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.text(</span><span style="color:#79B8FF">56</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">54</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;Hello, Snake!&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">)</span></span></code></pre> </div> </div> </details> </aside>   
<h3 id="frame-rate">Frame rate</h3>
<p>To get a feel of the rythm at which the Pyxel application is running:</p>
<ul>
<li>
<p>Measure the time elapsed between two calls to the <code>draw</code>
function of Pyxel.</p>
</li>
<li>
<p>Print the number of frames per second
(FPS) in the window top left corner.</p>
</li>
</ul>
<video width="768" style="border-radius: 0.375rem; width: 100%; height: auto;" autoplay loop><source src="../videos/fps.webm" type="video/webm"/></video>
<aside data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <details class="" data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #e0f2fe;--dark: #164e63;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #e0f2fe;--dark: #164e63;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:pencil"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M4 20h4L18.5 9.5a1.5 1.5 0 0 0-4-4L4 16v4M13.5 6.5l4 4"/></g></svg> </span> <span style="font-weight:500;; --light: #e0f2fe;--dark: #164e63;" data-astro-cid-fjubpvhp>Time in the Python standard library</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #e0f2fe;--dark: #164e63;"> <div style="margin: 1rem;; --light: #e0f2fe;--dark: #164e63;" data-astro-cid-fjubpvhp> <p>The <code>time</code> function, from the <code>time</code> module,
returns the time elapsed in seconds since January 1st, 1970 at noon
(the ‚ÄúUnix epoch‚Äù).</p><pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span>&gt;&gt;&gt; import time</span></span>
<span class="line"><span>&gt;&gt;&gt; time.time()</span></span>
<span class="line"><span>1692980870.0990813</span></span>
<span class="line"><span>&gt;&gt;&gt; time.time()</span></span>
<span class="line"><span>1692980871.2445116</span></span>
<span class="line"><span>&gt;&gt;&gt; time.time()</span></span>
<span class="line"><span>1692980872.3245282</span></span></code></pre> </div> </div> </details> </aside>   
<aside data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <details class="" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:bulb"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M3 12h1m8-9v1m8 8h1M5.6 5.6l.7.7m12.1-.7-.7.7M9 16a5 5 0 1 1 6 0 3.5 3.5 0 0 0-1 3 2 2 0 0 1-4 0 3.5 3.5 0 0 0-1-3M9.7 17h4.6"/></g></svg> </span> <span style="font-weight:500;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp>Solution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <div style="margin: 1rem;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> pyxel</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> time</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> pyxel.btnp(pyxel.</span><span style="color:#79B8FF">KEY_Q</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.quit()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">t </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 0.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    global</span><span style="color:#E1E4E8"> t</span></span>
<span class="line"><span style="color:#E1E4E8">    t_new </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> time.time()</span></span>
<span class="line"><span style="color:#E1E4E8">    dt </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> t_new </span><span style="color:#F97583">-</span><span style="color:#E1E4E8"> t</span></span>
<span class="line"><span style="color:#E1E4E8">    t </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> t_new</span></span>
<span class="line"><span style="color:#E1E4E8">    fps </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> 1.0</span><span style="color:#F97583"> /</span><span style="color:#E1E4E8"> dt</span></span>
<span class="line"><span style="color:#E1E4E8">    fps </span><span style="color:#F97583">=</span><span style="color:#79B8FF"> round</span><span style="color:#E1E4E8">(fps)</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    color </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> pyxel.frame_count </span><span style="color:#F97583">%</span><span style="color:#79B8FF"> 16</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.text(</span><span style="color:#79B8FF">56</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">54</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&quot;Hello, Snake!&quot;</span><span style="color:#E1E4E8">, color)</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.text(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">f</span><span style="color:#9ECBFF">&quot;fps: </span><span style="color:#79B8FF">{</span><span style="color:#E1E4E8">fps</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">&quot;</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">)</span></span></code></pre> </div> </div> </details> </aside>   
<h2 id="the-game-board">The Game Board</h2>
<p>Let‚Äôs build a game board</p>
<ul>
<li>
<p>made of a square of 30x30 cells,</p>
</li>
<li>
<p>with each cell is 1 pixel large.</p>
</li>
</ul>
<aside data-astro-cid-fjubpvhp style="--light: #c7d2fe;--dark: #4f46e5;"> <details class="" data-astro-cid-fjubpvhp style="--light: #c7d2fe;--dark: #4f46e5;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #c7d2fe;--dark: #4f46e5;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #c7d2fe;--dark: #4f46e5;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #c7d2fe;--dark: #4f46e5;"> <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="help-circle"><path stroke="none" d="M0 0h24v24H0z"/><path d="M3 12a9 9 0 1 0 18 0 9 9 0 0 0-18 0M12 16v.01"/><path d="M12 13a2 2 0 0 0 .914-3.782 1.98 1.98 0 0 0-2.414.483"/></svg> </span> <span style="font-weight:500;; --light: #c7d2fe;--dark: #4f46e5;" data-astro-cid-fjubpvhp>But 1 pixel is too small!</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #c7d2fe;--dark: #4f46e5;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #c7d2fe;--dark: #4f46e5;"> <div style="margin: 1rem;; --light: #c7d2fe;--dark: #4f46e5;" data-astro-cid-fjubpvhp> <p>Yes, it certainly would be if we were talking about real pixels!
But Pyxel automatically scales the display
to fit the screen size.
Since we use a small 30x30 display, it will zoom it quite a bit and we will be
able to see every ‚Äúvirtual pixel‚Äù clearly.</p> </div> </div> </details> </aside>   
<p>To check that everything‚Äôs ok, draw a checkerboard pattern like this:</p>

<img src="/python/_astro/checkerboard.3d7d57a9_ZGkJjC.webp" alt="A 30x30 checkerboard" style="border-radius: 0.375rem; width: 100%; height: auto;" width="660" height="697" loading="lazy" decoding="async">
<p>(You may keep this checkerboard in the background as ‚Äútraining wheels‚Äù for a
while, and remove it when you‚Äôre ready.)</p>
<aside data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <details class="" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:bulb"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M3 12h1m8-9v1m8 8h1M5.6 5.6l.7.7m12.1-.7-.7.7M9 16a5 5 0 1 1 6 0 3.5 3.5 0 0 0-1 3 2 2 0 0 1-4 0 3.5 3.5 0 0 0-1-3M9.7 17h4.6"/></g></svg> </span> <span style="font-weight:500;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp>Solution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <div style="margin: 1rem;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> pyxel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> pyxel.btnp(pyxel.</span><span style="color:#79B8FF">KEY_Q</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.quit()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">13</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">        for</span><span style="color:#E1E4E8"> j </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">            if</span><span style="color:#E1E4E8"> (i</span><span style="color:#F97583">+</span><span style="color:#E1E4E8">j) </span><span style="color:#F97583">%</span><span style="color:#79B8FF"> 2</span><span style="color:#F97583"> ==</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">                pyxel.pset(i, j, </span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.init(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">pyxel.run(update, draw)</span></span></code></pre> </div> </div> </details> </aside>   
<h2 id="the-forbidden-fruit">The Forbidden Fruit</h2>
<p>Display a fruit at a random location on top of the checkerboard.
A fruit is a simple 1x1 rectangle (a pixel!). Pick a color you like!
When we say ‚Äúrandom‚Äù, we want the fruit location to be different each time
you restart the program.</p>

<img src="/python/_astro/fruit.5aa7e7ec_Z13Arhn.webp" alt="A fruit at a random location" style="border-radius: 0.375rem; width: 100%; height: auto;" width="660" height="697" loading="lazy" decoding="async">
<aside data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <details class="" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:bulb"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M3 12h1m8-9v1m8 8h1M5.6 5.6l.7.7m12.1-.7-.7.7M9 16a5 5 0 1 1 6 0 3.5 3.5 0 0 0-1 3 2 2 0 0 1-4 0 3.5 3.5 0 0 0-1-3M9.7 17h4.6"/></g></svg> </span> <span style="font-weight:500;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp>Solution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <div style="margin: 1rem;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> pyxel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.init(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">fruit </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> pyxel.btnp(pyxel.</span><span style="color:#79B8FF">KEY_Q</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.quit()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">13</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">        for</span><span style="color:#E1E4E8"> j </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">            if</span><span style="color:#E1E4E8"> (i</span><span style="color:#F97583">+</span><span style="color:#E1E4E8">j) </span><span style="color:#F97583">%</span><span style="color:#79B8FF"> 2</span><span style="color:#F97583"> ==</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">             pyxel.pset(i, j, </span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(fruit[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], fruit[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.run(update, draw)</span></span></code></pre> </div> </div> </details> </aside>   
<h2 id="a-restin-snake">A Restin‚Äô Snake</h2>
<p>In the next step, we will represent the snake, as a sequence of pixels.
Let‚Äôs snake with the following simple sequence</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">12</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span></code></pre>
<p>Let‚Äôs say that the last list item (here <code>[12, 15]</code>) represents the snake head.
Use a dark green color to represent the snake body and a light green
for its head.</p>

<img src="/python/_astro/resting-snake.df4cb7b2_Z84VeL.webp" alt="A resting snake" style="border-radius: 0.375rem; width: 100%; height: auto;" width="660" height="697" loading="lazy" decoding="async">
<aside data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <details class="" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:bulb"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M3 12h1m8-9v1m8 8h1M5.6 5.6l.7.7m12.1-.7-.7.7M9 16a5 5 0 1 1 6 0 3.5 3.5 0 0 0-1 3 2 2 0 0 1-4 0 3.5 3.5 0 0 0-1-3M9.7 17h4.6"/></g></svg> </span> <span style="font-weight:500;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp>Solution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <div style="margin: 1rem;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> pyxel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.init(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">fruit </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">12</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> pyxel.btnp(pyxel.</span><span style="color:#79B8FF">KEY_Q</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.quit()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">13</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">        for</span><span style="color:#E1E4E8"> j </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">            if</span><span style="color:#E1E4E8"> (i</span><span style="color:#F97583">+</span><span style="color:#E1E4E8">j) </span><span style="color:#F97583">%</span><span style="color:#79B8FF"> 2</span><span style="color:#F97583"> ==</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">                pyxel.pset(i, j, </span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(fruit[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], fruit[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> x, y </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> snake_geometry[:</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.pset(x, y, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.run(update, draw)</span></span></code></pre> </div> </div> </details> </aside>   
<h2 id="events">Events</h2>
<p>Modify the program so that when the user presses the arrow keys,
the program displays (with the <code>print</code> function) the characters <code>‚Üê</code>, <code>‚Üë</code>, <code>‚Üí</code>
or <code>‚Üì</code> in the terminal.</p>
<aside data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <details class="" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:bulb"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M3 12h1m8-9v1m8 8h1M5.6 5.6l.7.7m12.1-.7-.7.7M9 16a5 5 0 1 1 6 0 3.5 3.5 0 0 0-1 3 2 2 0 0 1-4 0 3.5 3.5 0 0 0-1-3M9.7 17h4.6"/></g></svg> </span> <span style="font-weight:500;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp>Solution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <div style="margin: 1rem;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> pyxel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.init(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">fruit </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">12</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">arrow_keys </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_UP</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_DOWN</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_LEFT</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_RIGHT</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> pyxel.btnp(pyxel.</span><span style="color:#79B8FF">KEY_Q</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.quit()</span></span>
<span class="line"><span style="color:#E1E4E8">    arrow_keys_pressed </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> arrow_keys:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> pyxel.btnp(key):</span></span>
<span class="line"><span style="color:#E1E4E8">            arrow_keys_pressed.append(key)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> arrow_keys_pressed:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_UP</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;‚Üë&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_DOWN</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;‚Üì&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_LEFT</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;‚Üê&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_RIGHT</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#79B8FF">            print</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&quot;‚Üí&quot;</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(fruit[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], fruit[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> x, y </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> snake_geometry[:</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.pset(x, y, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.run(update, draw)</span></span></code></pre> </div> </div> </details> </aside>   
<h2 id="its-aliiiiiiive">It‚Äôs Aliiiiiiive!</h2>
<p>We are finally going to make the snake move!</p>
<ul>
<li>
<p>We create a (global) vector <code>snake_direction</code> whose initial value is <code>[1, 0]</code>.</p>
</li>
<li>
<p>At each update, we move the head of the snake in this direction ;
the rest of its body follows.</p>
</li>
<li>
<p>Pressing an arrow key changes the direction of the snake.</p>
</li>
</ul>
<aside data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <details class="" data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #ffedd5;--dark: #ea580c;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #ffedd5;--dark: #ea580c;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:alert-triangle"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M12 9v2m0 4v.01M5 19h14a2 2 0 0 0 1.84-2.75L13.74 4a2 2 0 0 0-3.5 0l-7.1 12.25A2 2 0 0 0 4.89 19"/></g></svg> </span> <span style="font-weight:500;; --light: #ffedd5;--dark: #ea580c;" data-astro-cid-fjubpvhp>OMG it&#39;s so fast!</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #ffedd5;--dark: #ea580c;"> <div style="margin: 1rem;; --light: #ffedd5;--dark: #ea580c;" data-astro-cid-fjubpvhp> <p>You may consider slowing down the game at this point ‚Ä¶ at least while you
are developing and testing it! Technically, you are searching to decrease the
frame rate.</p> </div> </div> </details> </aside>   
<aside data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <details class="" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:bulb"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M3 12h1m8-9v1m8 8h1M5.6 5.6l.7.7m12.1-.7-.7.7M9 16a5 5 0 1 1 6 0 3.5 3.5 0 0 0-1 3 2 2 0 0 1-4 0 3.5 3.5 0 0 0-1-3M9.7 17h4.6"/></g></svg> </span> <span style="font-weight:500;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp>Solution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <div style="margin: 1rem;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> pyxel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.init(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">fps</span><span style="color:#F97583">=</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">fruit </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">12</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">arrow_keys </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_UP</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_DOWN</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_LEFT</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_RIGHT</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    global</span><span style="color:#E1E4E8"> snake_geometry, snake_direction</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> pyxel.btnp(pyxel.</span><span style="color:#79B8FF">KEY_Q</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.quit()</span></span>
<span class="line"><span style="color:#E1E4E8">    arrow_keys_pressed </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> arrow_keys:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> pyxel.btnp(key):</span></span>
<span class="line"><span style="color:#E1E4E8">            arrow_keys_pressed.append(key)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> arrow_keys_pressed:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_UP</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_DOWN</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_LEFT</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]  </span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_RIGHT</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    new_snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">        snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> snake_direction[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">        snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> snake_direction[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    ]</span></span>
<span class="line"><span style="color:#E1E4E8">    snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">:] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> [new_snake_head]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(fruit[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], fruit[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> x, y </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> snake_geometry[:</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.pset(x, y, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.run(update, draw)</span></span></code></pre> </div> </div> </details> </aside>   
<h2 id="i-am-starving">I am starving!</h2>
<p>So far the fruit and the snake don‚Äôt interact.
Let‚Äôs change that! Make sure that:</p>
<ul>
<li>
<p>when the snake head reaches the fruit, the fruit disappears,</p>
</li>
<li>
<p>the snake grows by one pixel and</p>
</li>
<li>
<p>a new fruit appears at a random location.</p>
</li>
</ul>
<aside data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <details class="" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:bulb"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M3 12h1m8-9v1m8 8h1M5.6 5.6l.7.7m12.1-.7-.7.7M9 16a5 5 0 1 1 6 0 3.5 3.5 0 0 0-1 3 2 2 0 0 1-4 0 3.5 3.5 0 0 0-1-3M9.7 17h4.6"/></g></svg> </span> <span style="font-weight:500;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp>Solution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <div style="margin: 1rem;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> pyxel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.init(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">fps</span><span style="color:#F97583">=</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> spawn_new_fruit</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    global</span><span style="color:#E1E4E8"> fruit</span></span>
<span class="line"><span style="color:#E1E4E8">    fruit </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">),</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    ]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">spawn_new_fruit()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">12</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">arrow_keys </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_UP</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_DOWN</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_LEFT</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_RIGHT</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    global</span><span style="color:#E1E4E8"> snake_geometry, snake_direction</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> pyxel.btnp(pyxel.</span><span style="color:#79B8FF">KEY_Q</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.quit()</span></span>
<span class="line"><span style="color:#E1E4E8">    arrow_keys_pressed </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> arrow_keys:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> pyxel.btnp(key):</span></span>
<span class="line"><span style="color:#E1E4E8">            arrow_keys_pressed.append(key)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> arrow_keys_pressed:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_UP</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_DOWN</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_LEFT</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_RIGHT</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    new_snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">      snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> snake_direction[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">      snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> snake_direction[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    ]</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> new_snake_head </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> fruit:</span></span>
<span class="line"><span style="color:#E1E4E8">        snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> [new_snake_head]</span></span>
<span class="line"><span style="color:#E1E4E8">        spawn_new_fruit()</span></span>
<span class="line"><span style="color:#F97583">    else</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">        snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">:] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> [new_snake_head]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(fruit[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], fruit[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> x, y </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> snake_geometry[:</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.pset(x, y, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.run(update, draw)</span></span></code></pre> </div> </div> </details> </aside>   
<h2 id="epilog">Epilog</h2>
<p>Obviously, there are a couple of things missing here with respect
to the initial demo:</p>
<ul>
<li>
<p>the snake should not be able to go through itself,</p>
</li>
<li>
<p>the snake cannot get out of the arena and</p>
</li>
<li>
<p>the snake should not be able to go through the rocks (yes, there are rocks now!).</p>
</li>
</ul>
<p>Since we are not too cruel, the snake doesn‚Äôt die when such a collision occurs.
Instead, he loses one segment of it body (by frame), until only the head remains.</p>
<p>Implements these changes!</p>
<aside data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <details class="" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <summary style="display:flex;align-items:center;justify-content:space-between;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span style="display:flex;gap:0.5em;align-items:center;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <span class="circle" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp astro-icon="tabler:bulb"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M3 12h1m8-9v1m8 8h1M5.6 5.6l.7.7m12.1-.7-.7.7M9 16a5 5 0 1 1 6 0 3.5 3.5 0 0 0-1 3 2 2 0 0 1-4 0 3.5 3.5 0 0 0-1-3M9.7 17h4.6"/></g></svg> </span> <span style="font-weight:500;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp>Solution</span> </span> <span class="minmax" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="closed" astro-icon="tabler:arrows-maximize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M16 4h4v4M14 10l6-6M8 20H4v-4M4 20l6-6M16 20h4v-4M14 14l6 6M8 4H4v4M4 4l6 6"/></g></svg> <svg viewBox="0 0 24 24" data-astro-cid-fjubpvhp class="open" astro-icon="tabler:arrows-minimize"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"><path d="M5 9h4V5M3 3l6 6M5 15h4v4M3 21l6-6M19 9h-4V5M15 9l6-6M19 15h-4v4M15 15l6 6"/></g></svg> </span> </summary> <div class="content" data-astro-cid-fjubpvhp style="--light: #fbcfe8;--dark: #db2777;"> <div style="margin: 1rem;; --light: #fbcfe8;--dark: #db2777;" data-astro-cid-fjubpvhp> <pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> pyxel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.init(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">fps</span><span style="color:#F97583">=</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    [</span><span style="color:#79B8FF">12</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">15</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">rocks </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> i </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> j </span><span style="color:#F97583">in</span><span style="color:#79B8FF"> range</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">30</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (i</span><span style="color:#F97583">+</span><span style="color:#E1E4E8">j) </span><span style="color:#F97583">%</span><span style="color:#79B8FF"> 5</span><span style="color:#F97583"> ==</span><span style="color:#79B8FF"> 0</span><span style="color:#F97583"> and</span><span style="color:#E1E4E8"> (i</span><span style="color:#F97583">-</span><span style="color:#E1E4E8">j) </span><span style="color:#F97583">%</span><span style="color:#79B8FF"> 11</span><span style="color:#F97583"> ==</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            rocks.append([i, j])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> spawn_new_fruit</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    global</span><span style="color:#E1E4E8"> fruit</span></span>
<span class="line"><span style="color:#F97583">    while</span><span style="color:#79B8FF"> True</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">        fruit </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">), pyxel.rndi(</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">29</span><span style="color:#E1E4E8">)]</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> fruit </span><span style="color:#F97583">not</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> snake_geometry </span><span style="color:#F97583">and</span><span style="color:#E1E4E8"> fruit </span><span style="color:#F97583">not</span><span style="color:#F97583"> in</span><span style="color:#E1E4E8"> rocks:</span></span>
<span class="line"><span style="color:#F97583">            break</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">spawn_new_fruit()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">arrow_keys </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_UP</span><span style="color:#E1E4E8">, </span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_DOWN</span><span style="color:#E1E4E8">, </span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_LEFT</span><span style="color:#E1E4E8">, </span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.</span><span style="color:#79B8FF">KEY_RIGHT</span></span>
<span class="line"><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#F97583">    global</span><span style="color:#E1E4E8"> snake_geometry, snake_direction</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> pyxel.btnp(pyxel.</span><span style="color:#79B8FF">KEY_Q</span><span style="color:#E1E4E8">):</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.quit()</span></span>
<span class="line"><span style="color:#E1E4E8">    arrow_keys_pressed </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> arrow_keys:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> pyxel.btnp(key):</span></span>
<span class="line"><span style="color:#E1E4E8">            arrow_keys_pressed.append(key)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> arrow_keys_pressed:</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_UP</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_DOWN</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_LEFT</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#F97583">        elif</span><span style="color:#E1E4E8"> key </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> pyxel.</span><span style="color:#79B8FF">KEY_RIGHT</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">            snake_direction </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    new_snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#E1E4E8">        snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> snake_direction[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">        snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> snake_direction[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">    ]</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#E1E4E8">        new_snake_head </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> snake_geometry</span></span>
<span class="line"><span style="color:#F97583">        or</span><span style="color:#E1E4E8"> new_snake_head </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> rocks</span></span>
<span class="line"><span style="color:#F97583">        or</span><span style="color:#E1E4E8"> (</span></span>
<span class="line"><span style="color:#E1E4E8">        new_snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">&lt;</span><span style="color:#79B8FF"> 0</span></span>
<span class="line"><span style="color:#F97583">        or</span><span style="color:#E1E4E8"> new_snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">&gt;</span><span style="color:#79B8FF"> 29</span></span>
<span class="line"><span style="color:#F97583">        or</span><span style="color:#E1E4E8"> new_snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">&lt;</span><span style="color:#79B8FF"> 0</span></span>
<span class="line"><span style="color:#F97583">        or</span><span style="color:#E1E4E8"> new_snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">&gt;</span><span style="color:#79B8FF"> 29</span></span>
<span class="line"><span style="color:#E1E4E8">        )</span></span>
<span class="line"><span style="color:#E1E4E8">    ):</span></span>
<span class="line"><span style="color:#E1E4E8">        snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">:</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> [snake_head]</span></span>
<span class="line"><span style="color:#F97583">    elif</span><span style="color:#E1E4E8"> new_snake_head </span><span style="color:#F97583">==</span><span style="color:#E1E4E8"> fruit:</span></span>
<span class="line"><span style="color:#E1E4E8">        snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> [new_snake_head]</span></span>
<span class="line"><span style="color:#E1E4E8">        spawn_new_fruit()</span></span>
<span class="line"><span style="color:#F97583">    else</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">        snake_geometry </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">:] </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> [new_snake_head]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> draw</span><span style="color:#E1E4E8">():</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.cls(</span><span style="color:#79B8FF">7</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(fruit[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], fruit[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">8</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> x, y </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> rocks:</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.pset(x, y, </span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">    for</span><span style="color:#E1E4E8"> x, y </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> snake_geometry[:</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]:</span></span>
<span class="line"><span style="color:#E1E4E8">        pyxel.pset(x, y, </span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">    snake_head </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> snake_geometry[</span><span style="color:#F97583">-</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">    pyxel.pset(snake_head[</span><span style="color:#79B8FF">0</span><span style="color:#E1E4E8">], snake_head[</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">], </span><span style="color:#79B8FF">11</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">pyxel.run(update, draw)</span></span></code></pre> </div> </div> </details> </aside>    </main> </body></html>